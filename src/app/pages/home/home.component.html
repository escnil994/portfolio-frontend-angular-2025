<section class="hero-section relative min-h-screen flex items-center justify-center overflow-hidden">
  <div class="absolute inset-0 bg-gradient-to-br from-primary/5 via-transparent to-accent/5"></div>
  <div class="absolute top-20 left-10 w-72 h-72 bg-primary/10 rounded-full blur-3xl animate-pulse-slow"></div>
  <div class="absolute bottom-20 right-10 w-96 h-96 bg-accent/10 rounded-full blur-3xl animate-pulse-slow"
    style="animation-delay: 2s;"></div>

  <div class="container mx-auto px-4 relative z-10 ">
    @if (profileLoading()) {
      <app-loader type="skeleton-hero" message="Loading profile..."></app-loader>
    } @else if (profile()) {
      <div class="text-center animate-fade-in">
        <p class="text-accent text-lg mb-4 animate-slide-up" style="animation-delay: 0.2s;">
          Hi, I'm
        </p>

        <h1 class="text-5xl md:text-7xl font-bold mb-4 animate-slide-up" style="animation-delay: 0.3s;">
          <span
            class="bg-gradient-to-r from-primary via-accent to-primary bg-clip-text text-transparent bg-[length:200%_auto] animate-gradient">
            {{ displayName() }}
          </span>
        </h1>

        @if (profile()?.display_name) {
        <p class="text-2xl md:text-3xl text-primary/80 font-semibold mb-6 animate-slide-up"
          style="animation-delay: 0.4s;">
          @{{ profile()?.display_name }}
        </p>
        }

        @if (profile()?.title) {
        <h2 class="text-xl md:text-2xl text-base-content/80 mb-8 animate-slide-up" style="animation-delay: 0.5s;">
          {{ profile()?.title }}
        </h2>
        }

        @if (profile()?.bio) {
        <p class="text-base md:text-lg text-base-content/70 max-w-2xl mx-auto mb-10 leading-relaxed animate-slide-up"
          style="animation-delay: 0.6s;">
          {{ profile()?.bio }}
        </p>
        }

        <div class="flex flex-col sm:flex-row gap-4 justify-center mb-16 animate-slide-up" style="animation-delay: 0.7s;">
          <a routerLink="/projects" class="btn-cta btn-cta-primary group">
            <span class="material-icons mr-2">work</span>
            View Projects
          </a>
          <a routerLink="/contact" class="btn-cta btn-cta-outline group">
            <span class="material-icons mr-2">email</span>
            Get in Touch
          </a>
        </div>
      </div>
    } @else {
      <div class="text-center">
        <p class="text-error text-lg">Failed to load profile. Please refresh the page.</p>
      </div>
    }
  </div>

  <div
    class="hidden md:flex absolute bottom-24 left-1/2 -translate-x-1/2 flex-col items-center cursor-pointer scroll-indicator"
    (click)="scrollToSkills()">
    <span class="text-sm text-base-content/60 mb-2 animate-pulse">Scroll Down</span>
    <div class="scroll-arrow">
      <span class="material-icons text-4xl text-accent">keyboard_arrow_down</span>
    </div>
  </div>
</section>

<!-- Skills Section -->
<section id="skills" class="section-padding bg-base-200 pt-4 pb-8">
  <div class="container mx-auto px-4">
    <div class="text-center mb-16" animateOnScroll>
      <h2 class="text-4xl md:text-5xl font-bold mb-4">
        Tech Stack
      </h2>
      <p class="text-base-content/70 text-lg">
        Technologies I work with daily
      </p>
    </div>

    @if (profileLoading()) {
      <app-loader type="skeleton-skills"></app-loader>
    } @else if (skills().length > 0) {
      <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
        @for (skill of topSkills(); track skill.id; let i = $index) {
        <div class="skill-card" animateOnScroll [style.animation-delay.ms]="i * 50">
          <div
            class="skill-icon bg-gradient-to-br {{ skill.color }} group-hover:scale-110 transition-transform duration-300">
            <span class="material-icons text-white text-4xl">{{ skill.icon }}</span>
          </div>
          <h3 class="text-lg font-semibold mt-4 group-hover:text-accent transition-colors">
            {{ skill.name }}
          </h3>

        </div>
        }
      </div>

      @if (skills().length > 16) {
      <div class="text-center mt-12" animateOnScroll>
        <p class="text-base-content/70 mb-4">
          And {{ skills().length - 16 }} more technologies...
        </p>
        <a routerLink="/about" class="btn btn-outline">
          View All Skills
        </a>
      </div>
      }
    }
  </div>
</section>

<!-- Featured Projects -->
<section class="section-padding mt-8">
  <div class="container mx-auto px-4">
    <div class="text-center mb-16" animateOnScroll>
      <h2 class="text-4xl md:text-5xl font-bold mb-4">
        Featured Projects
      </h2>
      <p class="text-base-content/70 text-lg">
        Some of my recent work
      </p>
    </div>

    @if (projectsLoading()) {
      <div class="flex justify-center">
        <div class="grid md:grid-cols-2 gap-6 max-w-4xl w-full">
          @for (item of [1,2]; track item) {
            <app-loader type="skeleton-project"></app-loader>
          }
        </div>
      </div>
    } @else if (featuredProjects().length > 0) {
      <div class="flex justify-center">
        <div class="grid md:grid-cols-2 gap-6 max-w-4xl w-full">
          @for (project of featuredProjects(); track project.id; let i = $index) {
          <div class="project-card" animateOnScroll [style.animation-delay.ms]="i * 100">
            <div class="project-image-wrapper h-48">
              <img [src]="project.image" [alt]="project.title" class="project-image">
              <div class="project-overlay">
                <a [routerLink]="['/projects', project.id]" class="btn btn-primary btn-sm">
                  View Details
                </a>
              </div>
            </div>

            <div class="p-4">
              <h3 class="text-xl font-bold mb-2 hover:text-accent transition-colors">
                <a [routerLink]="['/projects', project.id]">{{ project.title }}</a>
              </h3>
              <p class="text-base-content/70 mb-3 line-clamp-2 text-sm">
                {{ project.description }}
              </p>

              @if (project.technologies.length > 0) {
              <div class="flex flex-wrap gap-2">
                @for (tech of project.technologies.slice(0, 3); track tech) {
                <span class="badge badge-primary badge-sm">{{ tech }}</span>
                }
              </div>
              }
            </div>
          </div>
          }
        </div>
      </div>

      <div class="text-center mt-12" animateOnScroll>
        <a routerLink="/projects" class="btn btn-outline btn-lg group">
          View All Projects
          <span class="material-icons ml-2 group-hover:translate-x-1 transition-transform">arrow_forward</span>
        </a>
      </div>
    }
  </div>
</section>

<!-- CTA Section -->
<section class="section-padding bg-gradient-to-r from-primary/10 via-accent/10 to-primary/10 mt-12 p-8" animateOnScroll>
  <div class="container mx-auto px-4 text-center">
    <h2 class="text-4xl md:text-5xl font-bold mb-6">
      Let's Work Together
    </h2>
    <p class="text-xl text-base-content/70 mb-8 max-w-2xl mx-auto">
      Have a project in mind or looking for a skilled developer?
      I'm always interested in new opportunities and collaborations.
    </p>
    <a routerLink="/contact" class="btn-cta btn-cta-primary group">
      <span class="material-icons mr-2">send</span>
      Get in Touch
    </a>
  </div>
</section>
