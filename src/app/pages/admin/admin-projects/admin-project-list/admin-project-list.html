<section class="min-h-screen bg-base-200 py-8">
  <div class="container mx-auto px-4">
    <!-- Header -->
    <div class="flex items-center justify-between mb-8">
      <div>
        <h1 class="text-4xl font-bold mb-2">
          <span class="bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent">
            Manage Projects
          </span>
        </h1>
        <p class="text-base-content/70">Create, edit and manage your portfolio projects</p>
      </div>
      <a routerLink="/admin/projects/new" class="btn btn-primary gap-2">
        <span class="material-icons">add</span>
        New Project
      </a>
    </div>

    <!-- Loading State -->
    @if (loading()) {
    <div class="flex justify-center items-center min-h-[400px]">
      <span class="loading loading-spinner loading-lg text-primary"></span>
    </div>
    }

    <!-- Projects Grid -->
    @if (!loading() && projects().length > 0) {
    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
      @for (project of projects(); track project.id) {
      <div class="card bg-base-100 shadow-xl hover:shadow-2xl transition-all">
        <!-- Image -->
        <figure class="relative h-48">
          <img [src]="project.image" [alt]="project.title" class="w-full h-full object-cover">
          @if (project.featured) {
          <div class="badge badge-primary absolute top-3 right-3 gap-1">
            <span class="material-icons text-xs">star</span>
            Featured
          </div>
          }
        </figure>

        <div class="card-body">
          <h3 class="card-title text-lg">{{ project.title }}</h3>
          <p class="text-sm text-base-content/70 line-clamp-2">{{ project.description }}</p>

          <!-- Technologies -->
          <div class="flex flex-wrap gap-1 mt-2">
            @for (tech of project.technologies.slice(0, 3); track tech) {
            <div class="badge badge-outline badge-xs">{{ tech }}</div>
            }
            @if (project.technologies.length > 3) {
            <div class="badge badge-primary badge-xs">+{{ project.technologies.length - 3 }}</div>
            }
          </div>

          <!-- Actions -->
          <div class="card-actions justify-end mt-4">
            <a [routerLink]="['/projects', project.id]" target="_blank" class="btn btn-ghost btn-sm gap-1">
              <span class="material-icons text-sm">visibility</span>
              View
            </a>
            <a [routerLink]="['/admin/projects', project.id]" class="btn btn-primary btn-sm gap-1">
              <span class="material-icons text-sm">edit</span>
              Edit
            </a>
            <button (click)="deleteProject(project)" class="btn btn-error btn-sm gap-1">
              <span class="material-icons text-sm">delete</span>
              Delete
            </button>
          </div>
        </div>
      </div>
      }
    </div>
    }

    <!-- Empty State -->
    @if (!loading() && projects().length === 0) {
    <div class="card bg-base-100 shadow-xl p-12 text-center">
      <span class="material-icons text-6xl text-base-content/30 mb-4">work_off</span>
      <h3 class="text-2xl font-bold mb-2">No projects yet</h3>
      <p class="text-base-content/70 mb-6">Start by creating your first project</p>
      <a routerLink="/admin/projects/new" class="btn btn-primary gap-2 mx-auto">
        <span class="material-icons">add</span>
        Create Project
      </a>
    </div>
    }

    <!-- Back Button -->
    <div class="text-center mt-8">
      <a routerLink="/admin/dashboard" class="link link-hover text-primary gap-1 inline-flex items-center">
        <span class="material-icons text-sm">arrow_back</span>
        Back to Dashboard
      </a>
    </div>
  </div>
</section>
